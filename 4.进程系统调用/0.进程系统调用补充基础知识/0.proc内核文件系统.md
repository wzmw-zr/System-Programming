# /proc文件系统—提供内核属性信息

/proc虚拟文件系统提供了访问内核信息的简便方法。

该文件系统驻留在/proc目录中，**包含了各种用于展示内核信息的文件，并且允许进程通过常规文件IO系统调用来方便地读取，有时还可以修改这些信息。**

由于/proc中包含的文件和子目录并没有存储在磁盘上，而是**由内核在进程访问此类信息时动态创建**，因此称之为虚拟。

## 一、/proc 目录下的系统信息

/proc目录下的各种文件和子目录提供了对系统级信息的访问。

/proc目录及其常见子目录的用途：

| 目录                          | 目录中文件表达的信息       |
| ----------------------------- | -------------------------- |
| `/proc`                       | 各种系统信息               |
| `/proc/net`                   | 有关网络和套接字的状态信息 |
| `/proc/sys/fs`                | 文件系统相关设置           |
| `/proc/sys/kernel`            | 各种常规的内核设置         |
| `/proc/sys/net`               | 网络和套接字的设置         |
| `/proc/sys/vm`                | 内存管理设置               |
| `/proc/PID`(这个PID是真实PID) | 进程的相关信息             |



## 二、获取与进程相关的信息：/proc/PID

**对于系统中的每个进程，内核都提供了相应的目录，命名为`/proc/PID`，其中PID是进程ID。在此目录中的各种文件和子目录包含了进程的相关信息。**

在`/proc/PID`目录中有很多子目录，与**线程相关的目录是`/proc/PID/task`，存放了所有线程的目录**。针对**进程中的每个线程，内核提供了以`/proc/PID/task/TID`命名的子目录，其中TID是该线程的线程ID。**

每个`/proc/PID/task/TID`子目录中都有类似于`/proc/PID`目录内容的文件和目录。



## 三、访问/proc中文件

通常使用Shell脚本(bash，Python等)来访问/proc下的文件。

由于/proc/PID目录中的内容是变化不定的，每个目录随着含有相应进程ID的进程创建而生，又随进程的终止而消除，这意味着要确定特定/proc/PID目录的存在，就要处理这种可能性：当打开此目录下的文件时，进程已经终止，并且也已经删除了相应的`/proc/PID`目录。
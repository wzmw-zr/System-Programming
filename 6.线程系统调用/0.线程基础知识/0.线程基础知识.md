# 线程基础知识

## 一、线程的概念

Linux下线程叫`LWP`，light weight process, 轻量级的进程，本质仍是进程，**区别在于==进程有独立地址空间，线程没有独立地址空间==，同一进程内的线程共享地址空间，但是==两者都有PCB==。**

线程是`CPU`调度的基本单位，允许程序并发执行多个任务，**因为线程切换代价远小于进程切换的代价**。==**多线程最直接的应用就是减少通信成本、计算成本。**==



## 二、线程之间共享的资源

根据进程的空间结构，线程之间共享的资源如下：

**线程共享的资源：**

+ **文件描述符表**
+ 堆区
+ 初始化数据区
+ 未初始化数据区

**之所以没有栈，是因为线程执行的函数就在栈中，没法共享。**



## 三、线程之间没有共享的资源

**线程不共享的资源：**

+ 线程id
+ 处理器现场和栈指针(**内核栈**)
+ **用户空间栈**(**==栈是不会共享的，因为栈中存放着线程中执行的函数，因为线程实际上就是执行我们指定的一个函数。==**)
+ 调度优先级



## 四、线程的适用场合

**==线程本质上就是寄存器与栈的集合，因为线程实际上就是我们指定的函数，它存在栈中。==**

**同一进程中的多个线程可以并发执行。在多处理器环境下，多个线程可以同时并行。如果一个线程因为IO操作而阻塞，其他线程依然可以继续运行。**

**==因此，线程适合处理并发通信，密集计算，这样节省空间、时间开销。==**
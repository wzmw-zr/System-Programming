# 多线程的应用场合

按照最基本的形式，一个多线程应用由一个进程和两个或者更多的线程组成。这些线程可以用于不同的用途，比如**，允许进程以异步的方式响应事件，或者通过多线程分割工作，提升数据处理的速度。**

## 一、以异步的方式响应事件

使用多线程以异步的方式响应事件的实际应用例子有：

+ `GUI`编程：使用**==分离线程(detached or separate thread)==**使得**每个事件不需要互相等待，也可以及时阻塞正在通信的事件。**
+ 网络编程：使用**==分离线程(detached or separate thread)==**使得**每个事件不需要互相等待，也可以及时阻塞正在通信的事件。**

**总的来说，单个线程执行单个任务，比如处理`GUI`与网络事件，或者处理数据。**



## 二、使用线程分割工作

使用线程分割工作，让每个线程做的任务性质基本相同，但是这样可以极大地提升速度。

**不过使用线程分隔工作的话得分清工作的性质，有些注重处理顺序的工作不可以分离线程，老老实实地等待线程。**



## 三、多线程编程模型

一个基本的例子：**一个应用会以单个线程开始，产生多个线程，然后等待这些线程结束，所有的新线程会在结束之前执行自己的任务。**



## 四、线程返回值结果的使用方式

考虑到多线程执行顺序的异步性，在长运行时间的线程中，很难判断线程结果返回的顺序，因此，**需要使用信息结构扩展返回的数据，该信息结构中包含有关处理线程或类似线程的详细信息。**

为此，比较通用的方法有：

+ **在参数中包含一部分要返回的结果的字段**
+ **返回前申请内存空间，返回后获得结果就释放这些空间**



## 五、线程同步的必要性

**==线程同步用来保护共享资源。==即便是分离线程，有时也是需要访问共享资源的，比如计数操作，对于访问共享资源的操作，就需要使用到互斥量、条件变量与信号量。**